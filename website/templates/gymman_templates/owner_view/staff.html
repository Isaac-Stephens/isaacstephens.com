{% extends "base_gymman.html" %}
{% block title %}<title>Staff | gymman(demo);</title>{% endblock %}
{% block sidebar %} 
<li><a href="/owner/dashboard">Dashboard</a></li> 
<li><a href="/owner/memberships">Manage Memberships</a></li> 
<li><a href="/owner/payments">Manage Payments</a></li> 
<li><a href="/owner/staff" class="active">Manage Staff</a></li> 
<li><a href="/owner/trainers">Manage Trainers</a></li> 
<li><a href="/owner/exercise_logs">Exercise Logs</a></li> 
<li><a href="/owner/error_logs">Error Logs</a></li>
{% endblock %}
{% block content %} 

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flash">
      {% for message in messages %}
        <p>{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<div class="card-grid">

  <!-- Left: Register Staff -->
  <div class="card">
    <div class="form-section">
      <h2>Register New Staff</h2>
      <form method="post" action="">
        <div class="form-group">
          <label for="ssn">SSN</label>
          <input type="text" id="ssn" name="ssn" placeholder="XXX-XX-XXXX" required>
        </div>

        <div class="form-group">
          <label>Name</label>
          <input type="text" name="first_name" placeholder="First Name" required>
          <input type="text" name="last_name" placeholder="Last Name" required>
        </div>

        <div class="form-group">
          <label for="employment_date">Employment Date</label>
          <input type="date" id="employment_date" name="employment_date" required>
        </div>

        <div class="form-group">
          <label for="birth_date">Birth Date</label>
          <input type="date" id="birth_date" name="birth_date" required>
        </div>

        <div class="form-group">
          <label for="address">Address</label>
          <input type="text" id="address" name="address" placeholder="Street, City, State, ZIP" required>
        </div>

        <div class="form-group">
          <label for="staff_type">Staff Type</label>
          <select id="staff_type" name="staff_type" required>
            <option value="" disabled selected>Select type...</option>
            <option value="hourly">Hourly Employee</option>
            <option value="salary">Salary Employee</option>
            <option value="maintenance">Maintenance</option>
            <option value="manager">Manager</option>
            <option value="contractor">Contractor</option>
          </select>
        </div>

        <!-- Pay / role-specific fields (you can hide/show with JS later if you want) -->
        <div class="form-group">
          <label>Hourly Rate (if hourly)</label>
          <input type="number" step="0.01" name="hourly_rate" placeholder="Hourly rate">
        </div>

        <div class="form-group">
          <label>Annual Salary (if salary)</label>
          <input type="number" step="0.01" name="annual_salary" placeholder="Annual salary">
        </div>

        <div class="form-group">
          <label>Managed Shift (if manager)</label>
          <input type="text" name="shift_managed" placeholder="e.g., Morning, Evening">
        </div>

        <div class="form-group">
          <label>Contract Type (if contractor)</label>
          <input type="text" name="contract_type" placeholder="e.g., Cleaning, IT Support">
        </div>

        <div class="form-group">
          <label>Contract Details (if contractor)</label>
          <textarea name="contract_details" rows="3" placeholder="Contract notes..."></textarea>
        </div>

        <button type="submit" name="register_staff" value="1">Register Staff</button>
      </form>
    </div>
  </div>

  <!-- Right: Staff List -->
  <div class="card">
    <div class="data-table">
      <h2>Current Staff</h2>
      <table>
        <thead>
          <tr>
            <th>Staff ID</th>
            <th>Name</th>
            <th>Employment Date</th>
            <th>Birth Date</th>
            <th>Address</th>
          </tr>
        </thead>
        <tbody>
          {% if staff_list %}
            {% for s in staff_list %}
              <tr>
                <td>{{ s.staff_id }}</td>
                <td>{{ s.first_name }} {{ s.last_name }}</td>
                <td>{{ s.employment_date }}</td>
                <td>{{ s.birth_date }}</td>
                <td>{{ s.staff_address }}</td>
              </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="5" style="text-align: center;">No staff registered yet.</td>
            </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>

</div>

{% endblock %}